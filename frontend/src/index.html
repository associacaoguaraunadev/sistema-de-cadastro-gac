
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>GAC - Cadastro</title>
<style>
body { font-family: Arial; background: #e8f5e9; color: #2e7d32; }
header { padding: 20px; font-size: 32px; font-weight: bold; text-align: center; }
button { background: #2e7d32; color: white; padding: 10px; border: none; cursor: pointer; }
input { padding: 8px; width: 300px; }
.card { background: white; padding: 20px; margin: 20px; border-radius: 8px; }
</style>
</head>
<body>
<header>GAC - Sistema de Cadastro</header>

<div id="app" class="card">
  <h2>Cadastrar Pessoa</h2>
  <input id="name" placeholder="Nome"><br><br>
  <input id="cpf" placeholder="CPF"><br><br>
  <input id="address" placeholder="Endereço"><br><br>
  <input id="benefit" placeholder="Benefício"><br><br>
  <button onclick="create()">Salvar</button>

  <h2>Pessoas Cadastradas</h2>
  <div id="list"></div>
</div>

<script>
async function load() {
  const res = await fetch('http://localhost:3001/people');
  const people = await res.json();
  const list = document.getElementById('list');
  list.innerHTML = people.map(p => 
    `<div>
       <b>${p.name}</b> - ${p.cpf} - ${p.address} - ${p.benefit}
       <button onclick="del(${p.id})">Excluir</button>
    </div>`
  ).join('');
}

async function create() {
  await fetch('http://localhost:3001/people', {
    method: 'POST',
    headers: { 'Content-Type':'application/json' },
    body: JSON.stringify({
      name: name.value,
      cpf: cpf.value,
      address: address.value,
      benefit: benefit.value
    })
  });
  load();
}

async function del(id) {
  await fetch('http://localhost:3001/people/' + id, { method: 'DELETE' });
  load();
}

load();
</script>

</body>
</html>
